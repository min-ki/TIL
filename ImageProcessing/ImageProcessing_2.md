# 픽셀 기반 처리

### 개요

픽셀 기반 처리

- 픽셀의 원래 값이나 위치에 기반한 픽셀 값 변경
- 다른 픽셀의 영향을 받지 않음

픽셀 기반 처리 기법들

- 산술 연산, 히스토그램 평활화, 명암대비 스트레칭, 이진화



### 산술 연산

화소에 일정한 값을 더하거나 빼거나 나누거나 곱하는 연산

- 덧셈 연산 및 뺄셈 연산
  - 영상의 밝기 조절
- 곱셈 연산 및 나눗셈 연산
  - 영상의 명암 대비를 조절



### 히스토그램

#### 화소가 가진 명암 값에 대한 막대 그래프



### 히스토그램 평활화(equalization)

기존 영상의 명암 값 분포를 재분배하여 일정한 분포를 가진 히스토그램을 생성

- 히스토그램 평활화의 네 단계

  1. 입력영상의 히스토그램 생성 : 명암값 j의 빈도수 hist[j]를 계산

  2. 각 명암값 i에 대하여 0부터 i 까지의 빈도수의 누적 값을 계산

     - #### $sum[i] = \displaystyle \sum_{i=0}^{j} hist[j]$

  3. 단계 2에서 구한 누적값을 정규화

     - #### $n[i] = sum[i] * 1/N * 255$ (N = 전체 픽셀 수)

  4. 입력영상에서 픽셀 값 i를 정규화된 값 n[i]로 변환하여 결과 영상 생성 

- 영상의 명암값이 좁은 영역에 모여 있을 때에 효과적이다.



### 명암 대비

낮은 명암 대비

- 히스토그램이 일부분에 집중

높은 명암 대비

- 히스토그램이 두개의 큰 마루를 가짐

좋은 명암 대비

- 균일한 화소값 분포를 가짐
- 특정한 마루나 골이 부각되지 않음



### 명암대비 스트레칭

- 히스토그램이 모든 범위의 화소 값을 포함하도록 영상을 확장

- 중앙에 집중된 히스토그램을 갖는 영상에 적합

  - #### $P'(x,y) = (P(x,y) - min / max - min) * 255$

  - 여기서 min은 최저 화소값, max는 최고 화소값



### 이진화

이진화란 2가지 값을 갖는 영상으로 변환함으로써 영상의 분석을 용이하게 할 수 있음

각 픽셀의 값이 일정한 상수를 기준으로 크면 255 작으면 0으로 이진화를 시킨다.

- 이진화는 잡음 제거에 이용한다.



### 역상

픽셀의 값을 다음과 같이 변환하면 역상 영상을 얻을 수 있다.

### $P'(x,y) = 255 - P(x,y)$

 

### 영상 사이의 픽셀 기반 처리

- 2개 또는 그 이상의 서로 다른 영상을 포함하는 연산을 기반으로 하여 화소 값을 생성
- 덧셈연산, 뺄셈연산, AND/OR 연산, 평균연산 등이 있음





### 덧셈 연산

- 두개의 영상에 덧셈연산을 수행하여 새로운 영상을 생성할 때 사용

- 일반적으로 다음과 같은 혼합 함수 사용

  #### $O(x,y) = a * I_1(x, y) + B * I_2(x,y) $

### 뺄셈 연산

- 보안 시스템이나 영상 분석 시스템에서 이용

```c++
val = abs(영상1 - 영상2)
if(val > 64) 
    val = 255
else 
    val = 0
```

# 